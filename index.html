<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="180x180" href="./images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./images/favicon/favicon-16x16.png">
  <link rel="manifest" href="./images/favicon/site.webmanifest">
  <meta property="og:image"  content="https://alonrotem.github.io/caketime/images/0.png" />
  <meta property="og:description" content="It's always a good time for a cake!" />
  <style>
    body {
      background: darkslategrey;
      font-size: 80%;
      padding: 20px;

      background-image: url(./images/kisses.png);
    background-repeat: no-repeat;
    background-size: cover;
    background-blend-mode: multiply;
    }
    .content {
  position: absolute;
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}
.digit
{
  width: 108px;
}
  </style>
  <title>Cake Time!</title>
</head>
<body>
  <div class="content">
    <table>
      <tr>
        <td>
          <img id="imgHr1" src="./images/0.png" class="digit">
        </td>
        <td>
          <img id="imgHr2" src="./images/0.png" class="digit">
        </td>
        <td>
          <img id="dotsHr" src="./images/dots-blue.png" class="digit">
        </td>
        <td>
          <img id="imgMin1" src="./images/0.png" class="digit">
        </td>
        <td>
          <img id="imgMin2" src="./images/0.png" class="digit">
        </td>
        <td>
          <img id="dotsMin" src="./images/dots-blue.png" class="digit">
        </td> 
        <td>
          <img id="imgSec1" src="./images/0.png" class="digit">
        </td>
        <td>
          <img id="imgSec2" src="./images/0.png" class="digit">
        </td>              
      </tr>
    </table>
  </div>
  <script>
    function setImage(img, digit) {
      //document.getElementById("imgHr1").src
      var imgPath = "./images/" + digit + ".png";
      var element = document.getElementById(img);
      if((element && element.src != imgPath))
      {
        element.src = imgPath;
      }
    }

    setInterval(function(){ 
      var now = new Date();
      var hours = now.getHours();
      var minutes = now.getMinutes();
      var seconds = now.getSeconds();
      var hourdots = document.getElementById("dotsHr");
      var minutedots = document.getElementById("dotsMin");

      setImage("imgHr1", parseInt(hours / 10));
      setImage("imgHr2", hours % 10);

      setImage("imgMin1", parseInt(minutes / 10));
      setImage("imgMin2", minutes % 10);

      setImage("imgSec1", parseInt(seconds / 10));
      setImage("imgSec2", seconds % 10);

      setImage("dotsHr", (hours % 2)? "dots-yellow" : "dots-blue");
      setImage("dotsMin", (hours % 2)? "dots-yellow" : "dots-blue");
      

      hourdots.style.visibility = (hourdots.style.visibility == "hidden")? "visible": "hidden";
      minutedots.style.visibility = (minutedots.style.visibility == "hidden")? "visible": "hidden";

    }, 500);
  </script>
</body>
</html>
